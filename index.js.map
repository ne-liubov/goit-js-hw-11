{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport const getImagesByQuery = query => {\n  return axios.get('https://pixabay.com/api/', {\n    params: {\n      key: '49208970-c1347c58b4866d3d505700044',\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    },\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\n\nexport const galleryContainer = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\nexport const createGallery = images => {\n  const markup = images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"img-list-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\"/>\n      </a>\n      <div class=\"info-wrapper\">\n        <div class=\"img-info\">\n          <p class=\"label\">Likes</p>\n          <p class=\"value\">${likes}</p>\n        </div>\n        <div class=\"img-info\">\n          <p class=\"label\">Views</p>\n          <p class=\"value\">${views}</p>\n        </div>\n        <div class=\"img-info\">\n          <p class=\"label\">Comments</p>\n          <p class=\"value\">${comments}</p>\n        </div>\n        <div class=\"img-info\">\n          <p class=\"label\">Downloads</p>\n          <p class=\"value\">${downloads}</p>\n        </div>\n      </div>\n    </li>`\n    )\n    .join('');\n\n  galleryContainer.innerHTML = markup;\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n};\n\n// чистка галереи\nexport const clearGallery = () => {\n  galleryContainer.innerHTML = '';\n};\n\n// показ/скрытие лоадера\nexport const showLoader = () => {\n  console.log('Показать лоадер');\n  loaderEl.classList.remove('is-hidden');\n};\nexport const hideLoader = () => {\n  console.log('Скрыть лоадер');\n  loaderEl.classList.add('is-hidden');\n};\n","import iziToast from 'izitoast';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  galleryContainer,\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst searchFormEl = document.querySelector('form');\nconsole.log(searchFormEl);\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  // ключевое слово, которое ввел пользователь\n  const searchedQuery =\n    event.currentTarget.elements['search-text'].value.trim();\n\n  clearGallery();\n\n  if (searchedQuery === '') {\n    iziToast.show({\n      message: 'Please enter your request!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader(); // показать loader перед запросом\n\n  getImagesByQuery(searchedQuery)\n    .then(response => {\n      hideLoader();\n\n      const images = response.data.hits;\n\n      if (images.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          theme: 'dark',\n        });\n\n        searchFormEl.reset();\n\n        return;\n      }\n\n      createGallery(images); // отрисовать картинки\n\n      searchFormEl.reset();\n    })\n    .catch(error => {\n      hideLoader(); // скрыть loader\n\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n      });\n    });\n};\n\nsearchFormEl.addEventListener('submit', onFormSubmit);\n"],"names":["getImagesByQuery","query","axios","galleryContainer","loaderEl","lightbox","SimpleLightbox","createGallery","images","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchFormEl","onFormSubmit","event","searchedQuery","iziToast","response","error"],"mappings":"owBAEO,MAAMA,EAAmBC,GACvBC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACb,CACL,CAAG,ECTUE,EAAmB,SAAS,cAAc,UAAU,EAC3DC,EAAW,SAAS,cAAc,SAAS,EAEjD,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAEvC,MAAMC,EAAgBC,GAAU,CACrC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,mBAEON,CAAa;AAAA,gCACAC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAK7BC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA,UAIjC,EACA,KAAK,EAAE,EAEVb,EAAiB,UAAYM,EAEzBJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIC,EAAe,YAAY,CAE9C,EAGaW,EAAe,IAAM,CAChCd,EAAiB,UAAY,EAC/B,EAGae,EAAa,IAAM,CAC9B,QAAQ,IAAI,iBAAiB,EAC7Bd,EAAS,UAAU,OAAO,WAAW,CACvC,EACae,EAAa,IAAM,CAC9B,QAAQ,IAAI,eAAe,EAC3Bf,EAAS,UAAU,IAAI,WAAW,CACpC,ECxDMgB,EAAe,SAAS,cAAc,MAAM,EAClD,QAAQ,IAAIA,CAAY,EAExB,MAAMC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAGpB,MAAMC,EACJD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAIpD,GAFAL,IAEIM,IAAkB,GAAI,CACxBC,EAAS,KAAK,CACZ,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IAEAlB,EAAiBuB,CAAa,EAC3B,KAAKE,GAAY,CAChBN,IAEA,MAAMX,EAASiB,EAAS,KAAK,KAE7B,GAAIjB,EAAO,SAAW,EAAG,CACvBgB,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,MAAO,MACjB,CAAS,EAEDJ,EAAa,MAAK,EAElB,MACD,CAEDb,EAAcC,CAAM,EAEpBY,EAAa,MAAK,CACxB,CAAK,EACA,MAAMM,GAAS,CACdP,IAEAK,EAAS,MAAM,CACb,QAASE,EAAM,QACf,SAAU,UAClB,CAAO,CACP,CAAK,CACL,EAEAN,EAAa,iBAAiB,SAAUC,CAAY"}